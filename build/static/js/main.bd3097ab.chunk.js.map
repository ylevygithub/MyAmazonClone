{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","console","log","Array","fill","map","_","i","class","data-a-hires","item","Home","height","width","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","error","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","res","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd3097ab.chunk.js","sourcesContent":["import React, {createContext, useContext,\r\n    useReducer } from 'react'\r\n\r\n// Preapares the DataLayer\r\nexport const StateContext = createContext()\r\n\r\n// Wrap our app and provide the Data Layer\r\nconst StateProvider = ({ reducer, initialState, children }) => (\r\n        <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n                {children}\r\n        </StateContext.Provider>\r\n)\r\n\r\nexport default StateProvider;\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import firebase from 'firebase';\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBz6O7RHbbFB7qCp4mRQaoK8t4l9SlgJ9A\",\r\n    authDomain: \"clone-76ac3.firebaseapp.com\",\r\n    projectId: \"clone-76ac3\",\r\n    storageBucket: \"clone-76ac3.appspot.com\",\r\n    messagingSenderId: \"91574016567\",\r\n    appId: \"1:91574016567:web:6254e4df378cb81f657db2\",\r\n    measurementId: \"G-LKXPZLQXHV\"\r\n  };\r\n\r\n  // to initialise the app\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };","import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from './firebase';\r\n\r\nfunction Header() {\r\n\r\n    const [{ basket, user }] = useStateValue()\r\n\r\n    const handleAuthentication = () => {\r\n      if (user) {\r\n        auth.signOut();\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className='header'>\r\n        <Link to=\"/\">\r\n          <img\r\n              className='header__logo'\r\n              src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n              alt='headerLogo'\r\n          />\r\n        </Link>\r\n\r\n        <div className='header__search'>\r\n          <input \r\n              className=\"header__searchInput\" \r\n              type=\"text\"\r\n          />\r\n          <SearchIcon className=\"header__searchIcon\"/>\r\n        </div>\r\n\r\n        <div className=\"header__nav\">\r\n          <Link to={!user && '/login'}>\r\n            <div onClick={handleAuthentication} className=\"header__option\">\r\n              <span className=\"header__optionLineOne\">Hello {user ?\r\n                user.email : 'Guest'}</span>\r\n              <span className=\"header__optionLineTwo\">{user ? \r\n                'Sign Out' : 'Sign In'}</span>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link to='/orders'>\r\n            <div className=\"header__option\">\r\n              <span className=\"header__optionLineOne\">Returns</span>\r\n              <span className=\"header__optionLineTwo\">& Orders</span>\r\n            </div>\r\n          </Link>\r\n\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Your</span>\r\n            <span className=\"header__optionLineTwo\">Prime</span>\r\n          </div>\r\n\r\n          <Link to=\"/checkout\">\r\n            <div className='header__optionBasket'>\r\n              <ShoppingBasketIcon/>\r\n              <span className=\"header__optionLineTwo header__basketCount\">\r\n                  {basket?.length}\r\n              </span>\r\n            </div>                    \r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './Product.css'\r\nimport { useStateValue } from './StateProvider'\r\n\r\nfunction Product({ id, title, image, price, rating}) {\r\n\r\n    const [{ basket }, dispatch] = useStateValue()\r\n    console.log(\"this is the basket >>> \", basket)\r\n\r\n    const addToBasket = () => {\r\n        //dispatch the item into the dataLayer\r\n        dispatch({\r\n            type: 'ADD_TO_BASKET',\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating\r\n            },\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"product__rating\">\r\n                    {Array(rating).fill().map((_, i) => \r\n                        <p>⭐</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            \r\n            <img alt=\"Gaming Accessories\" \r\n                src={image}\r\n                class=\"landscape-image\"\r\n                data-a-hires=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_Gaming_2X._SY608_CB432517394_.jpg\"\r\n            />\r\n\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport './Home.css'\r\nimport Product from './Product'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__container\">\r\n                <img\r\n                    className=\"home__image\"\r\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Events/2020/HolidayDeals/Desktop/Fuji_TallHero_HolidayDeals_en_US_1x._CB414278668_.jpg\"\r\n                    alt=\"\"\r\n                    height=\"600px\"\r\n                    width=\"1500px\" \r\n                />\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                        id=\"2121151564\"\r\n                        title='DualSense Wireless Controller'\r\n                        price={69.99}\r\n                        image='https://m.media-amazon.com/images/I/71y+UGuJl5L._AC_UY218_.jpg'\r\n                        rating={5}\r\n                    />\r\n                    <Product\r\n                        id=\"2121151514\"\r\n                        title='Nintendo Switch Pro Controller'\r\n                        price={49.99}\r\n                        image='https://m.media-amazon.com/images/I/61drpi3cYUL._AC_UY218_.jpg'\r\n                        rating={5}\r\n                    />\r\n                </div>\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                            id=\"22541211515\"\r\n                            title='Logitech G502 Hero High Performance Gaming Mouse'\r\n                            price={39.99}\r\n                            image='https://m.media-amazon.com/images/I/51IOmsWQVAL._AC_UY218_.jpg'\r\n                            rating={5}\r\n                        />\r\n                    <Product\r\n                        id=\"2121151589\"\r\n                        title='Xbox Core Controller - Robot White'\r\n                        price={49.99}\r\n                        image='https://m.media-amazon.com/images/I/51gNmD2-otL._AC_UY218_.jpg'\r\n                        rating={5}\r\n                    />\r\n                    <Product\r\n                        id=\"2121151520\"\r\n                        title='RUNMUS Gaming Headset Xbox One Headset with 7.1 Surround Sound, PS4 Headset with Noise Canceling Mic &amp; LED Light, Compatib...'\r\n                        price={39.99}\r\n                        image='https://m.media-amazon.com/images/I/61lnzTv2a0L._AC_UY218_.jpg'\r\n                        rating={5}\r\n                    />\r\n                </div>\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                            id=\"2123615\"\r\n                            title='Redragon S101 Wired Gaming Keyboard and Mouse Combo RGB Backlit Gaming Keyboard with Multimedia Keys Wrist Rest and Red Ba...'\r\n                            price={159.99}\r\n                            image='https://m.media-amazon.com/images/I/71kr3WAj1FL._AC_UY218_.jpg'\r\n                            rating={5}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport './CheckoutProduct.css'\r\nimport {useStateValue} from './StateProvider'\r\n\r\nfunction CheckoutProduct({ id, image, title, price, rating, hideButton }) {\r\n    const [ {basket}, dispatch] = useStateValue()\r\n\r\n    const removeFromBasket = () => {\r\n        //remove the item from the basket\r\n        dispatch({\r\n            type: 'REMOVE_FROM_BASKET',\r\n            id: id,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='checkoutProduct'>\r\n            <img className='checkoutProduct__image' src={image} alt=\"\"/>\r\n\r\n            <div className=\"checkoutProduct__info\">\r\n                <p className='checkoutProduct__title'>{title}</p>\r\n                <p className='checkoutProduct__price'>\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"checkoutProduct__rating\">\r\n                    {Array(rating)\r\n                    .fill()\r\n                    .map((_, i) => (\r\n                        <p>⭐</p>\r\n                    ))}\r\n                </div>\r\n                {!hideButton && (//only render this button if its not hidden\r\n                    <button onClick={removeFromBasket}>Remove from basket</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","\r\nexport const initialState = {\r\n    basket: [],\r\n    user: null\r\n};\r\n\r\n// Selector. This is a professional practice of having selectors inside of our reducers\r\nexport const getBasketTotal = (basket) =>\r\nbasket?.reduce((amount, item) => item.price + amount, 0)/*get the basket and do optional chaining to prevent everything from breaking\r\n                    the purpose of reduce is to maps through the basket. So it iterates trough the basket and then its gonna totally up the total\r\n                    we gonna have an initial amount and we gonna iterate through each item.\r\n                    And everytime it loops through it I want the item price to add to the total amount, and the initial amount is going to be 0. */\r\nconst reducer = (state, action) => {\r\n    console.log(action)\r\n\r\n    switch(action.type) {\r\n        case 'ADD_TO_BASKET':// everytime I will press the basket button, it will dispatch an action.type\r\n        //the reducer is like a thing who always listenning for dispatch\r\n            return {//we return \r\n                ...state,//whatever the state originally was, we gonna change the basket\r\n                basket: [...state.basket, action.item],//the basket should now be, whatever the basket currently was + whatever the action.item we decided to add to the basket\r\n            }\r\n        case 'REMOVE_FROM_BASKET':\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id//it is going through all of the basket items. and it says, does any of the basket items match the action id that I passed in. So it only find the first one and returns it to you.\r\n            )\r\n            let newBasket = [...state.basket];//we gonna copy the basket into a temporary variable. And we say, copy whatever the state.basket currently had so now we have a copy of it inside of our newBasket.\r\n            //if the index is greather/equal than 0 it meant it actually found an item inside the basket\r\n            if (index >= 0) {\r\n                newBasket.splice(index, 1)//pass the index and splice it/cut it by one\r\n            } else {\r\n                console.warn(`Cant remove product (id: ${action.id}) as its not in the basket!`)\r\n            }\r\n            return {\r\n                ...state,\r\n                basket: newBasket\r\n            }\r\n\r\n/**that return below is not good enough because it removes all the item who has the same id and we dont want that if I have 5 same book in my basket and I want to actually remove just one of them so we use the code au dessus instead*/\r\n            // return {\r\n            //     ...state,//whatever the store looked like previously\r\n            //     basket: state.basket.filter(item => item.id !== action.id)//change the basket. Filter out anything where the item is matching the action id\r\n            // }\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case 'EMPTY_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react'\r\nimport './Subtotal.css'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport { useStateValue } from './StateProvider'\r\nimport { getBasketTotal } from './reducer'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction Subtotal() {\r\n\r\n    const history = useHistory();\r\n    const [{ basket }] = useStateValue()\r\n\r\n    return (\r\n        <div className=\"subtotal\">\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                        <p>\r\n                            Subtotal ({basket.length} items): <strong>{value}</strong>\r\n                        </p>\r\n                        <small className=\"subtotal__gift\">\r\n                            <input type=\"checkbox\" /> This order\r\n                            contains a gift\r\n                        </small>\r\n                        </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n            />\r\n\r\n            <button onClick={e => history.push('/payment')} >Proceed to Checkout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport './Checkout.css'\r\nimport CheckoutProduct from './CheckoutProduct'\r\nimport Subtotal from './Subtotal'\r\nimport {useStateValue} from './StateProvider'\r\n\r\nfunction Checkout() {\r\n    const [{ basket, user }] = useStateValue()\r\n\r\n    return (\r\n        <div className='checkout'>\r\n            <div className=\"checkout__left\">\r\n                <img\r\n                    className='checkout__ad'\r\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n                    alt=\"amazon AD\"\r\n                />\r\n\r\n                <div>\r\n                    <h3>Hello, {user?.email}</h3>\r\n                    <h2 className=\"checkout__title\">\r\n                        Your shopping Basket\r\n                    </h2>\r\n\r\n                    {basket.map(item => (\r\n                        <CheckoutProduct\r\n                            id= {item.id}\r\n                            title={item.title}\r\n                            image={item.image}\r\n                            price={item.price}\r\n                            rating={item.rating}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"checkout__right\">\r\n                <Subtotal/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { auth } from './firebase'\r\nimport './Login.css'\r\n\r\nfunction Login() {\r\n    const history = useHistory()//it allows us to programmaticaly change the url.\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const signIn = e => {\r\n        e.preventDefault()//prevent the page from refreshing because we dont like refreshing in react\r\n\r\n        //some fancy firebase login things....\r\n        auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                if (auth) {\r\n                    history.push('/')//we are forcing the program to redirect to the home page if the registration went fine\r\n                }\r\n            })//then it will come back if everything were fine (it successfully created a new user with email and password)\r\n            .catch(e => alert(e.message))\r\n    }\r\n    const register = e => {\r\n        e.preventDefault()//prevent the page from refreshing because we dont like refreshing in react\r\n\r\n        //some fancy firebase register things....\r\n        auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                console.log(auth)\r\n                if (auth) {\r\n                    history.push('/')//we are forcing the program to redirect to the home page if the registration went fine\r\n                }\r\n            })//then it will come back if everything were fine (it successfully created a new user with email and password)\r\n            .catch(e => alert(e.message))\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <Link to='/'>\r\n                <img\r\n                    className='login__logo'\r\n                    src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\r\n                    alt=\"\"\r\n                />\r\n            </Link>\r\n            <div className=\"login__container\">\r\n                <h1>Sign in</h1>\r\n\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input type=\"text\" value={email}\r\n                        onChange={e => setEmail(e.target.value)}/>\r\n\r\n                    <h5>Password</h5>\r\n                    <input type=\"password\" value={password}\r\n                        onChange={e => setPassword(e.target.value)} />\r\n\r\n                    <button \r\n                        className='login__signInButton'\r\n                        type='submit'\r\n                        onClick={signIn}\r\n                        >Sign In</button>\r\n                </form>\r\n                <p>\r\n                        By signing-in you agree to the Amazon Fake Clone\r\n                        Conditions of Use & Sale. Please\r\n                        see our Privacy Notice, our Cookies Notice\r\n                        and our Interest-Based Ads\r\n                        Notice.\r\n                </p>\r\n\r\n                <button onClick={register} className='login__registerButton'>Create your Amazon Account</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","/**\r\n * axios is a very popular fetching library\r\n * so we can fetch, post request,...\r\n * allows us to interract with apis very easily\r\n */\r\nimport axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    //at this point we dont have any api\r\n    baseURL: 'https://us-central1-clone-76ac3.cloudfunctions.net/api'\r\n    // THE API (cloud function) URL\r\n})\r\n\r\nexport default instance;\r\n// localhost for debugging :\r\n// http://localhost:5001/clone-76ac3/us-central1/api\r\n","import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport CheckoutProduct from './CheckoutProduct'\r\nimport './Payment.css'\r\nimport {useStateValue} from './StateProvider'\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport { getBasketTotal } from './reducer'\r\nimport { useEffect } from 'react'\r\nimport axios from './axios'\r\nimport { db } from './firebase'\r\n\r\nfunction Payment() {\r\n    const [{ basket, user }, dispatch] = useStateValue()\r\n\r\n    const stripe = useStripe()\r\n    const elements = useElements()\r\n\r\n    const [succeeded, setSucceeded] = useState(false)\r\n    const [processing, setProcessing] = useState(\"\")\r\n    const [error, setError] = useState(null)\r\n    const [disabled, setDisabled] = useState(true)\r\n    const [clientSecret, setClientSecret] = useState(true)\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        // generate the special stripe secret which allows us to charge a customer\r\n        //But ! Whenever the basket changes, we need to get a new secret\r\n        //because we need to tell stripe that there is no longer 50$ that were charging.\r\n        const getClientSecret = async () => {\r\n            /* axios is a way of making requests(post, get,...) */\r\n            const res = await axios({\r\n                method: 'post',\r\n                // Stripe expects the total in a currencies subunits which means 25.52$ is 2552 cents for them. So we need to multipliate the subtotal by 100\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n                /* the ?total is a questionMark total cuz this is smt called query param */\r\n            }).catch(e => alert(e.message))\r\n            setClientSecret(res.data.clientSecret)\r\n        }\r\n\r\n        getClientSecret()//thats how we run an async function inside of a useEffect\r\n    }, [basket])/* whenever the basket changes, we will make this request, and will update the special stripe secret who is the setClientSecret, which allows us to charge the customer the correct amount */\r\n\r\n    console.log('The SECRET IS >>> ', clientSecret)\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n        setProcessing(true)//so as soon as I hit that enter, its gonna block me from hitting that button again. We dont want to pay twice or 5 times\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        }).then(({ paymentIntent }) => {\r\n            // paymentIntent = payment confiramtion. And we got it after destructurating the res\r\n\r\n            db\r\n                .collection('users')\r\n                .doc(user?.uid)\r\n                .collection('orders')\r\n                .doc(paymentIntent.id)\r\n                .set({\r\n                    basket: basket,\r\n                    amount: paymentIntent.amount,\r\n                    created: paymentIntent.created\r\n                })\r\n\r\n            setSucceeded(true)\r\n            setError(null)\r\n            setProcessing(false)\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n\r\n            history.replace('/orders')\r\n        }).catch(e => alert(e.message))\r\n    }\r\n\r\n    const handleChange = event => {\r\n        //Listen for changes in the CardElement\r\n        // and display any errors as the customer types their card details\r\n        setDisabled(event.empty)//if the event is empty, disable the button\r\n        setError(event.error ? event.error.message : \"\")//if there is an error, show the error, otherwise show nothing\r\n    }\r\n\r\n    return (\r\n        <div className='payment'>\r\n            <div className=\"payment__container\">\r\n                <h1>\r\n                    Checkout (\r\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\r\n                        )\r\n                </h1>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Street</p>\r\n                        <p>Belgium, Brussels</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                        {basket.map(item => (\r\n                            <CheckoutProduct\r\n                                id= {item.id}\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment__details\">\r\n                        {/* Stripe magic will go */}\r\n\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange}/>\r\n\r\n                            <div className=\"payment__priceContainer\">\r\n                                <CurrencyFormat\r\n                                    renderText={(value) => (\r\n                                        <h3>Order Total: {value}</h3>\r\n                                    )}\r\n                                    decimalScale={2}\r\n                                    value={getBasketTotal(basket)}\r\n                                    displayType={\"text\"}\r\n                                    thousandSeparator={true}\r\n                                    prefix={\"$\"}\r\n                                />\r\n                                <button disabled={processing || disabled || succeeded}>\r\n                                    <span>{processing ? <p>Processing</p> :\r\n                                    \"Buy Now\"}</span>\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* if there is an error, only then, show the div with the error in. For example for the code number */}\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React from 'react'\r\nimport './Order.css'\r\nimport moment from 'moment'\r\nimport CheckoutProduct from './CheckoutProduct'\r\nimport CurrencyFormat from 'react-currency-format'\r\n\r\nfunction Order({ order }) {\r\n    return (\r\n        <div className=\"order\">\r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created).format('MMMM Do YYYY, h:mma')}</p>\r\n            <p className='order__id'>\r\n                <small>{order.id}</small>\r\n            </p>\r\n            {order.data.basket?.map(item => (\r\n                <CheckoutProduct\r\n                    id= {item.id}\r\n                    title={item.title}\r\n                    image={item.image}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    hideButton\r\n                />\r\n            ))}\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <h3 className='order__total'>Order Total: {value}</h3>\r\n                )}\r\n                decimalScale={2}\r\n                value={order.data.amount / 100}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { db } from './firebase'\r\nimport Order from './Order'\r\nimport './Orders.css'\r\nimport { useStateValue } from './StateProvider'\r\n\r\nfunction Orders() {\r\n    const [{ basket, user }, dispatch] = useStateValue()\r\n    const [orders, setOrders] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created', 'desc')\r\n            .onSnapshot(snapshot => (//photo instantanée\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                })))\r\n            ))\r\n        } else {\r\n            setOrders([])\r\n        }\r\n\r\n    }, [user])\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className=\"orders__order\">\r\n                {orders?.map(order => (\r\n                    <Order order={order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React, { useEffect } from 'react'\nimport './App.css';\nimport Header from './Header';\nimport Home from './Home';\nimport { BrowserRouter as Router, Switch, Route }\n  from 'react-router-dom';\nimport Checkout from  './Checkout'\nimport Login from './Login'\nimport { auth } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport Payment from './Payment';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport Orders from './Orders';\n\nconst promise = loadStripe(\n  \"pk_test_51HyiggKjmECxXMJEG7HiUqacttvDrxHcLqNJeasm7jqmTGHXv3ImAWG8y0IP0wOM6RZIw3UAIsjyKPorxuXtCyTQ007JgIQV2q\"\n);\n\nfunction App() {\n  const [{}, dispatch] = useStateValue()\n\n  // our powerfull listener who is always listenning\n  useEffect(() => {\n    //will only run once when the app component loads... if we have []\n    //but if we have [basket], it will run every time the basket changes\n\n    auth.onAuthStateChanged(authUser => {//whenever the authentication changes it will give us the authenticate user\n      console.log('The user is >>> ', authUser)\n\n      if (authUser) {\n        //the user just logged in || the user was logged in\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        //the user is logged out\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n  }, [])\n\n  return (\n    //BEM Convention\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path='/login'>\n            <Login/>\n          </Route>\n          <Route path='/checkout'>\n            <Header/>\n            <Checkout/>\n          </Route>\n          <Route path='/payment'>\n            <Header/>\n            <Elements stripe={promise}>{/*Elements:  We use Hire order function to wrap the payment */}\n              <Payment/>\n            </Elements>\n          </Route>\n          <Route path='/orders'>\n            <Header />\n            <Orders />\n          </Route>\n          <Route path='/'>\n            <Header/>\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport StateProvider from './StateProvider';\nimport reportWebVitals from './reportWebVitals';\nimport reducer, { initialState } from './reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}